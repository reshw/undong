# Club Dashboard Widget System

## ê°œìš”

í´ëŸ½ ëŒ€ì‹œë³´ë“œëŠ” ìœ„ì ¯ ê¸°ë°˜ ì‹œìŠ¤í…œìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©°, í´ëŸ½ì¥/ê´€ë¦¬ìê°€ ìœ„ì ¯ì˜ ìˆœì„œì™€ í‘œì‹œ ì—¬ë¶€ë¥¼ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ì´ ìœ„ì ¯ ìˆ˜**: 6ê°œ (ê¸°ë³¸ ìœ„ì ¯ 3ê°œ + ë¦¬ë”ë³´ë“œ ìœ„ì ¯ 3ê°œ)

---

## ìœ„ì ¯ ëª©ë¡

### 1. ğŸ“¡ Live Ticker (ì‹¤ì‹œê°„ í™œë™ í”¼ë“œ)

**ID**: `live_ticker`
**íƒ€ì…**: `live_ticker`
**ê¸°ë³¸ ìˆœì„œ**: 0 (ìµœìƒë‹¨)

#### ê¸°ëŠ¥
- í´ëŸ½ ë©¤ë²„ë“¤ì˜ ìµœê·¼ ìš´ë™ í™œë™ì„ ë‰´ìŠ¤ í‹°ì»¤ ìŠ¤íƒ€ì¼ë¡œ í‘œì‹œ
- ìµœëŒ€ 15ê°œ í•­ëª© í‘œì‹œ
- ê° í•­ëª©ì—ëŠ” ì•„ì´ì½˜, í™œë™ í…ìŠ¤íŠ¸, íƒ€ì„ìŠ¤íƒ¬í”„ í¬í•¨

#### ë°ì´í„° ì†ŒìŠ¤
- `getClubMemberLogs(clubId)` - í´ëŸ½ ë©¤ë²„ë“¤ì˜ ê³µìœ ëœ ìš´ë™ ë¡œê·¸

#### í‘œì‹œ ì •ë³´
- ìš´ë™ ì¢…ë¥˜ ì•„ì´ì½˜ (ğŸ‹ï¸, ğŸƒ, ğŸ‚ ë“±)
- "[ìœ ì €ëª…]ë‹˜ì´ [ìš´ë™ëª…] ê¸°ë¡"
- ì‹œê°„ (HH:MM í˜•ì‹)

#### ì½”ë“œ ìœ„ì¹˜
- **ì»´í¬ë„ŒíŠ¸**: `src/pages/ClubDetail.tsx:344` (`LiveTicker`)
- **ë¡œì§**: `src/utils/dashboardLogic.ts` (`generateTickerItems`)

#### ìŠ¤íƒ€ì¼
- ë‹¤í¬ ê·¸ë¼ë°ì´ì…˜ ë°°ê²½ (#1e293b â†’ #0f172a)
- ì¢Œì¸¡ ë³´ë¼ìƒ‰ ë³´ë”
- ìŠ¤í¬ë¡¤ ê°€ëŠ¥ (ìµœëŒ€ ë†’ì´ 200px)

---

### 2. ğŸ† Hall of Fame (ëª…ì˜ˆì˜ ì „ë‹¹) - Carousel

**ID**: `hall_of_fame`
**íƒ€ì…**: `hall_of_fame`
**ê¸°ë³¸ ìˆœì„œ**: 1

#### ê¸°ëŠ¥
- **Carousel(ìŠ¬ë¼ì´ë“œ)** í˜•íƒœë¡œ ì—¬ëŸ¬ ë©¤ë²„ì˜ ì„±ê³¼ë¥¼ ë™ì‹œì— í‘œì‹œ
- í•œ ìœ ì €ê°€ ì—¬ëŸ¬ ë°°ì§€ë¥¼ ë°›ì„ ìˆ˜ ìˆìŒ (ìµœëŒ€ 6ê°œ)
- **Me-first Sorting**: ì ‘ì†í•œ ë³¸ì¸ì˜ ë°°ì§€ë¥¼ ìµœìš°ì„ ìœ¼ë¡œ ë§¨ ì•ì— ë°°ì¹˜
- Snap Scroll + Peekingìœ¼ë¡œ ì§ê´€ì ì¸ UX

#### 6ê°€ì§€ ë°°ì§€ ì‹œìŠ¤í…œ (ì£¼ê°„ ë°ì´í„° ê¸°ì¤€)

| ë°°ì§€ | ì•„ì´ì½˜ | íƒ€ì… | ì¡°ê±´ |
|------|--------|------|------|
| ì›Œì»¤í™€ë¦­ | ğŸ”¥ | effort (Yellow) | ì´ ìš´ë™ íšŸìˆ˜ 1ìœ„ |
| ë¯¸ë¼í´ ëª¨ë‹ | ğŸŒ… | time (Orange) | 04-08ì‹œ ìš´ë™ íšŸìˆ˜ 1ìœ„ |
| ì˜¬ë¹¼ë¯¸ íŒŒìˆ˜ê¾¼ | ğŸ¦‰ | time (Orange) | 22-03ì‹œ ìš´ë™ íšŸìˆ˜ 1ìœ„ |
| 3ëŒ€ 500 ê¿ˆë‚˜ë¬´ | ğŸ‹ï¸ | strength (Red) | ì´ ë³¼ë¥¨(kg) 1ìœ„ |
| ì§€ì¹  ì¤„ ëª¨ë¥´ëŠ” ì‹¬ì¥ | ğŸƒ | cardio (Blue) | í™˜ì‚° ê±°ë¦¬(km) 1ìœ„ |
| ì„¤ì›ì˜ ì§€ë°°ì | ğŸ‚ | consistency (Purple) | ìŠ¤ë…¸ë³´ë“œ ëŸ° ìˆ˜ 1ìœ„ |

#### ë°ì´í„° ì†ŒìŠ¤
- `getClubMemberLogs(clubId)` - ìµœê·¼ 7ì¼ í•„í„°ë§
- ë°°ì§€ ê³„ì‚°: `calculateHofBadges(logs, currentUserId)`

#### í‘œì‹œ ì •ë³´
- **Me ì¹´ë“œ** (ë³¸ì¸):
  - â­ ME ë±ƒì§€ (ì¢Œì¸¡ ìƒë‹¨)
  - ì§„í•œ ë°°ê²½ + ë‘êº¼ìš´ í…Œë‘ë¦¬(3px)
  - ê¸€ë¡œìš° íš¨ê³¼ (`0 0 20px ${color}44`)
  - ìµœìš°ì„  ë°°ì¹˜ (ë§¨ ì•)
- **Others ì¹´ë“œ**:
  - ì—°í•œ ë°°ê²½ + ì–‡ì€ í…Œë‘ë¦¬(2px)
  - ê¸€ë¡œìš° ì—†ìŒ
- ê³µí†µ: í”„ë¡œí•„, ìœ ì € ì´ë¦„, ë°°ì§€ íƒ€ì´í‹€, ìˆ˜ì¹˜, ì„¤ëª…

#### ì½”ë“œ ìœ„ì¹˜
- **ì»´í¬ë„ŒíŠ¸**: `src/pages/ClubDetail.tsx:667` (`HallOfFame`)
- **ë¡œì§**: `src/utils/dashboardLogic.ts:42` (`calculateHofBadges`)
- **íƒ€ì…**: `src/utils/dashboardLogic.ts:21` (`HofBadge`)
- **CSS**: `src/App.css` (ëë¶€ë¶„, `.hall-of-fame-carousel`)

#### ìŠ¤íƒ€ì¼
- ë‹¤í¬ ê·¸ë¼ë°ì´ì…˜ ë°°ê²½
- ê°€ë¡œ Carousel ë ˆì´ì•„ì›ƒ (Snap Scroll)
- ì¹´ë“œ í¬ê¸°: ê³ ì • 280px
- Peeking: ë‹¤ìŒ ì¹´ë“œê°€ 16px ë³´ì„
- ìŠ¤í¬ë¡¤ë°” ìˆ¨ê¹€ (ê¹”ë”í•œ UI)
- ë°°ì§€ íƒ€ì…ë³„ ìƒ‰ìƒ ê·¸ë¼ë°ì´ì…˜

#### ì¥ì 
- ğŸ¯ **ì£¼ì¸ê³µ ëŠë‚Œ**: ë‚´ ë°°ì§€ê°€ ë§¨ ì• â†’ ì¦‰ì‹œ ì„±ì·¨ê°
- ğŸ”¥ **ë‹¤ìˆ˜ ë™ê¸° ë¶€ì—¬**: ì—¬ëŸ¬ ë°°ì§€ë¡œ ë‹¤ì–‘í•œ ì„±ê³¼ ì¸ì •
- ğŸ‘€ **ê³µê°„ íš¨ìœ¨**: Carouselë¡œ ë§ì€ ì •ë³´ë¥¼ ì‘ì€ ê³µê°„ì—
- âœ¨ **ì‹œê°ì  ì¦ê±°ì›€**: ìŠ¤í¬ë¡¤í•˜ë©° ë©¤ë²„ë“¤ì˜ ì„±ê³¼ íƒìƒ‰

#### ìƒì„¸ ë¬¸ì„œ
- [Hall of Fame Carousel êµ¬í˜„ ë¬¸ì„œ](./hall_of_fame_carousel.md)

---

### 3. ğŸ‘¥ Active Squad (Smart Active Squad)

**ID**: `daily_squad`
**íƒ€ì…**: `daily_squad`
**ê¸°ë³¸ ìˆœì„œ**: 2

#### ê¸°ëŠ¥
- **Smart Mix ì•Œê³ ë¦¬ì¦˜**: ì˜¤ëŠ˜ + ì–´ì œ ìš´ë™í•œ ë©¤ë²„ë¥¼ í•¨ê»˜ í‘œì‹œ
- ì˜¤ëŠ˜ ìš´ë™í•œ ë©¤ë²„ê°€ 4ëª… ë¯¸ë§Œì´ë©´ ì–´ì œ ìš´ë™í•œ ë©¤ë²„ ì¶”ê°€
- ì˜¤ëŠ˜+ì–´ì œ ëª¨ë‘ ì—†ìœ¼ë©´ ê°€ì¥ ìµœê·¼ í™œë™í•œ ë©¤ë²„ 3ëª… í‘œì‹œ
- ë©¤ë²„ë³„ ìš´ë™ ê°œìˆ˜ì™€ ë©”ëª¨ í‘œì‹œ
- í™œë™ ì‹œì ì— ë”°ë¥¸ ì‹œê°ì  êµ¬ë¶„ (Today/Yesterday/Recent ë±ƒì§€)

#### ì•Œê³ ë¦¬ì¦˜ (getSmartSquad)
```typescript
1. ì˜¤ëŠ˜ ìš´ë™í•œ ë©¤ë²„ â†’ activityType: 'today'
2. ì˜¤ëŠ˜ ë©¤ë²„ < 4ëª… â†’ ì–´ì œ ìš´ë™í•œ ë©¤ë²„ ì¶”ê°€ (activityType: 'yesterday')
3. ì˜¤ëŠ˜+ì–´ì œ = 0ëª… â†’ ìµœê·¼ í™œë™ ë©¤ë²„ 3ëª… (activityType: 'recent')
4. ì¤‘ë³µ ì œê±°: í•œ ìœ ì €ì˜ ìµœì‹  ê¸°ë¡ë§Œ í‘œì‹œ
```

#### ë°ì´í„° ì†ŒìŠ¤
- `getClubMemberLogs(clubId)` - ì „ì²´ ë¡œê·¸
- í•„í„°ë§ ë¡œì§: `getSmartSquad()` í•¨ìˆ˜

#### í‘œì‹œ ì •ë³´
- **Today ë©¤ë²„** (ğŸ”¥ Today ë±ƒì§€):
  - ë³´ë¼ìƒ‰ í…Œë‘ë¦¬ (#8b5cf6)
  - ë°ì€ ë³´ë¼ìƒ‰ ë°°ê²½
  - í”„ë¡œí•„ ì´ë¯¸ì§€ì— ë³´ë¼ìƒ‰ í…Œë‘ë¦¬
  - 100% ë¶ˆíˆ¬ëª…ë„
- **Yesterday ë©¤ë²„** (âš¡ Yesterday ë±ƒì§€):
  - ì ì„  íšŒìƒ‰ í…Œë‘ë¦¬ (#64748b)
  - ê¸°ë³¸ ë°°ê²½
  - í”„ë¡œí•„ ì´ë¯¸ì§€ì— íšŒìƒ‰ í…Œë‘ë¦¬
  - 85% ë¶ˆíˆ¬ëª…ë„ (í†¤ë‹¤ìš´)
- **Recent ë©¤ë²„**:
  - íšŒìƒ‰ì¡° ë°°ê²½
  - 70% ë¶ˆíˆ¬ëª…ë„
- ê³µí†µ: ìš´ë™ ê°œìˆ˜, ë©”ëª¨, ì£¼ í™œë™ ì•„ì´ì½˜

#### ì½”ë“œ ìœ„ì¹˜
- **ì»´í¬ë„ŒíŠ¸**: `src/pages/ClubDetail.tsx:800` (`DailySquad`)
- **ë¡œì§**: `src/utils/dashboardLogic.ts:456` (`getSmartSquad`)
- **íƒ€ì…**: `src/utils/dashboardLogic.ts:344` (`SquadMember`)

#### ìŠ¤íƒ€ì¼
- ë‹¤í¬ ê·¸ë¼ë°ì´ì…˜ ë°°ê²½
- ê°€ë¡œ ìŠ¤í¬ë¡¤ ì¹´ë“œ ë ˆì´ì•„ì›ƒ
- ê° ë©¤ë²„ ì¹´ë“œ: ìµœì†Œ ë„ˆë¹„ 160px
- ë©”ëª¨ ë§í’ì„ :
  - Today: ë³´ë¼ìƒ‰ (#8b5cf6)
  - Yesterday/Recent: íšŒìƒ‰ (#64748b)

#### ì¥ì 
- ğŸ¯ **Empty State ìµœì†Œí™”**: ì˜¤ì „ ì‹œê°„ëŒ€ì—ë„ ì–´ì œ ë©¤ë²„ í‘œì‹œë¡œ í™œê¸°ì°¬ ëŒ€ì‹œë³´ë“œ
- ğŸ”¥ **ì‹¤ì‹œê°„ ë°˜ì˜**: ì˜¤ëŠ˜ ìš´ë™í•˜ë©´ ì¦‰ì‹œ "Today" ë±ƒì§€ë¡œ ìµœìƒë‹¨ ë°°ì¹˜
- ğŸ‘€ **ëª…í™•í•œ êµ¬ë¶„**: ë±ƒì§€ì™€ ìƒ‰ìƒìœ¼ë¡œ í™œë™ ì‹œì  ì§ê´€ì ìœ¼ë¡œ êµ¬ë¶„
- ğŸ¨ **ì‹œê°ì  ìš°ì„ ìˆœìœ„**: ë¶ˆíˆ¬ëª…ë„ë¡œ Today > Yesterday > Recent ìˆœì„œ ê°•ì¡°

---

### 4. ğŸƒ Leaderboard - Cardio (ìœ ì‚°ì†Œ í‚¹)

**ID**: `leaderboard_cardio`
**íƒ€ì…**: `leaderboard`
**ê¸°ë³¸ ìˆœì„œ**: 3
**Config**: `{ metricType: 'cardio' }`

#### ê¸°ëŠ¥
- ìœ ì‚°ì†Œ ìš´ë™ ê±°ë¦¬ ê¸°ì¤€ ë¦¬ë”ë³´ë“œ
- ìƒìœ„ 10ëª… í‘œì‹œ
- 1~3ìœ„ ë©”ë‹¬ í‘œì‹œ

#### ì¸¡ì • ì§€í‘œ
- **Metric**: í‰ì§€ í™˜ì‚° ê±°ë¦¬ (Adjusted Distance)
- **ë‹¨ìœ„**: km
- **í•„í„°**: `workout.type === 'cardio'`

#### ë°ì´í„° ì†ŒìŠ¤
- `getClubMemberLogs(clubId)` - ê° ìš´ë™ì˜ `adjusted_dist_km` í•©ì‚°

#### í‘œì‹œ ì •ë³´
- ìˆœìœ„ (1~10ìœ„)
- ë©”ë‹¬ (ğŸ¥‡ğŸ¥ˆğŸ¥‰)
- í”„ë¡œí•„ ì´ë¯¸ì§€ or ì•„ë°”íƒ€
- ìœ ì € ì´ë¦„
- ì´ ê±°ë¦¬ (km)

#### ì½”ë“œ ìœ„ì¹˜
- **ì»´í¬ë„ŒíŠ¸**: `src/pages/ClubDetail.tsx:690` (`LeaderboardSection`)
- **ë©”íŠ¸ë¦­ ê³„ì‚°**: `src/utils/calculateMetrics.ts`

---

### 5. ğŸ‹ï¸ Leaderboard - Strength (ìŠ¤íŠ¸ë ìŠ¤ í‚¹)

**ID**: `leaderboard_strength`
**íƒ€ì…**: `leaderboard`
**ê¸°ë³¸ ìˆœì„œ**: 4
**Config**: `{ metricType: 'strength' }`

#### ê¸°ëŠ¥
- ê·¼ë ¥ ìš´ë™ ë³¼ë¥¨ ê¸°ì¤€ ë¦¬ë”ë³´ë“œ
- ìƒìœ„ 10ëª… í‘œì‹œ
- 1~3ìœ„ ë©”ë‹¬ í‘œì‹œ

#### ì¸¡ì • ì§€í‘œ
- **Metric**: ì´ ë³¼ë¥¨ (Volume)
- **ë‹¨ìœ„**: kg
- **í•„í„°**: `workout.type === 'strength'`
- **ê³„ì‚°ì‹**: `sets Ã— reps Ã— weight_kg`

#### ë°ì´í„° ì†ŒìŠ¤
- `getClubMemberLogs(clubId)` - ê° ìš´ë™ì˜ `volume_kg` í•©ì‚°

#### í‘œì‹œ ì •ë³´
- ìˆœìœ„ (1~10ìœ„)
- ë©”ë‹¬ (ğŸ¥‡ğŸ¥ˆğŸ¥‰)
- í”„ë¡œí•„ ì´ë¯¸ì§€ or ì•„ë°”íƒ€
- ìœ ì € ì´ë¦„
- ì´ ë³¼ë¥¨ (kg, ì²œ ë‹¨ìœ„ ì½¤ë§ˆ)

#### ì½”ë“œ ìœ„ì¹˜
- **ì»´í¬ë„ŒíŠ¸**: `src/pages/ClubDetail.tsx:690` (`LeaderboardSection`)
- **ë©”íŠ¸ë¦­ ê³„ì‚°**: `src/utils/calculateMetrics.ts`

---

### 6. ğŸ‚ Leaderboard - Snowboard (ìŠ¬ë¡œí”„ í‚¹)

**ID**: `leaderboard_snowboard`
**íƒ€ì…**: `leaderboard`
**ê¸°ë³¸ ìˆœì„œ**: 5
**Config**: `{ metricType: 'snowboard' }`

#### ê¸°ëŠ¥
- ìŠ¤ë…¸ë³´ë“œ ëŸ° ìˆ˜ ê¸°ì¤€ ë¦¬ë”ë³´ë“œ
- ìƒìœ„ 10ëª… í‘œì‹œ
- 1~3ìœ„ ë©”ë‹¬ í‘œì‹œ

#### ì¸¡ì • ì§€í‘œ
- **Metric**: ëŸ° ìˆ˜ (Run Count)
- **ë‹¨ìœ„**: íšŒ
- **í•„í„°**: `workout.category === 'snowboard'`

#### ë°ì´í„° ì†ŒìŠ¤
- `getClubMemberLogs(clubId)` - ê° ìš´ë™ì˜ `run_count` í•©ì‚°

#### í‘œì‹œ ì •ë³´
- ìˆœìœ„ (1~10ìœ„)
- ë©”ë‹¬ (ğŸ¥‡ğŸ¥ˆğŸ¥‰)
- í”„ë¡œí•„ ì´ë¯¸ì§€ or ì•„ë°”íƒ€
- ìœ ì € ì´ë¦„
- ì´ ëŸ° ìˆ˜ (íšŒ)

#### ì½”ë“œ ìœ„ì¹˜
- **ì»´í¬ë„ŒíŠ¸**: `src/pages/ClubDetail.tsx:690` (`LeaderboardSection`)
- **ë©”íŠ¸ë¦­ ê³„ì‚°**: `src/utils/calculateMetrics.ts`

---

## ìœ„ì ¯ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### ë°ì´í„° êµ¬ì¡°

#### DashboardConfig (JSONB in DB)
```typescript
{
  "widgets": [
    {
      "id": "live_ticker",
      "type": "live_ticker",
      "visible": true,
      "order": 0
    },
    {
      "id": "leaderboard_cardio",
      "type": "leaderboard",
      "visible": true,
      "order": 3,
      "config": {
        "metricType": "cardio"
      }
    }
  ]
}
```

#### Widget Type ì •ì˜
```typescript
type DashboardWidgetType = 'live_ticker' | 'hall_of_fame' | 'daily_squad' | 'leaderboard';

interface DashboardWidget {
  id: string;                    // ê³ ìœ  ì‹ë³„ì
  type: DashboardWidgetType;     // ìœ„ì ¯ íƒ€ì…
  visible: boolean;              // í‘œì‹œ ì—¬ë¶€
  order: number;                 // ìˆœì„œ (0ë¶€í„° ì‹œì‘)
  config?: {                     // ìœ„ì ¯ë³„ ì¶”ê°€ ì„¤ì •
    metricType?: 'cardio' | 'strength' | 'snowboard';
    [key: string]: any;
  };
}
```

### íŒŒì¼ êµ¬ì¡°

```
src/
â”œâ”€â”€ pages/
â”‚   â””â”€â”€ ClubDetail.tsx              # ë©”ì¸ í˜ì´ì§€, ìœ„ì ¯ ë Œë”ë§
â”œâ”€â”€ types/
â”‚   â””â”€â”€ index.ts                    # DashboardWidget íƒ€ì… ì •ì˜
â”œâ”€â”€ storage/
â”‚   â””â”€â”€ clubStorage.ts              # updateDashboardConfig() í•¨ìˆ˜
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ dashboardLogic.ts           # íƒ€ì´í‹€, ìŠ¤ì¿¼ë“œ, í‹°ì»¤ ë¡œì§
â”‚   â””â”€â”€ calculateMetrics.ts         # ë©”íŠ¸ë¦­ ê³„ì‚° í•¨ìˆ˜
â””â”€â”€ components/
    â””â”€â”€ challenge/
        â””â”€â”€ ChallengeWizard.tsx     # ì±Œë¦°ì§€ ìƒì„± ë§ˆë²•ì‚¬

docs/
â””â”€â”€ database/
    â””â”€â”€ club_dashboard_widgets_migration.sql  # DB ë§ˆì´ê·¸ë ˆì´ì…˜
```

---

## ìœ„ì ¯ í¸ì§‘ ê¸°ëŠ¥

### ê¶Œí•œ
- **Owner**: ëª¨ë“  í¸ì§‘ ê°€ëŠ¥
- **Admin**: ëª¨ë“  í¸ì§‘ ê°€ëŠ¥
- **Member**: ì½ê¸°ë§Œ ê°€ëŠ¥

### í¸ì§‘ ëª¨ë“œ

#### ì§„ì…
- "ğŸ¨ ëŒ€ì‹œë³´ë“œ í¸ì§‘" ë²„íŠ¼ í´ë¦­

#### ê¸°ëŠ¥
1. **ìˆœì„œ ë³€ê²½**: â†‘â†“ ë²„íŠ¼ìœ¼ë¡œ ìœ„ì ¯ ìˆœì„œ ì¡°ì •
2. **í‘œì‹œ/ìˆ¨ê¹€**: ğŸ‘ï¸ ë²„íŠ¼ìœ¼ë¡œ í† ê¸€
3. **ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸°**: ë³€ê²½ì‚¬í•­ ì¦‰ì‹œ ë°˜ì˜
4. **ì €ì¥/ì·¨ì†Œ**:
   - ğŸ’¾ ì €ì¥: DBì— ì„¤ì • ì €ì¥
   - ì·¨ì†Œ: ì›ë˜ ì„¤ì •ìœ¼ë¡œ ë³µì›

#### ì‹œê°ì  í”¼ë“œë°±
- í¸ì§‘ ëª¨ë“œì—ì„œ ìœ„ì ¯ì— ë³´ë¼ìƒ‰ ì ì„  í…Œë‘ë¦¬
- ìˆ¨ê¹€ ìœ„ì ¯ì€ 50% íˆ¬ëª…ë„
- ìœ„ì ¯ ì œëª© ìƒë‹¨ì— í‘œì‹œ

### ì½”ë“œ ìœ„ì¹˜
- **í¸ì§‘ UI**: `src/pages/ClubDetail.tsx:189-221` (Dashboard Tab)
- **ìœ„ì ¯ ë˜í¼**: `src/pages/ClubDetail.tsx:364-516` (`DashboardWidgetWrapper`)
- **ìƒíƒœ ê´€ë¦¬**: `src/pages/ClubDetail.tsx:129-177` (handleToggleWidgetVisibility, handleMoveWidget, handleSaveWidgets)

---

## ë°ì´í„° íë¦„

```
1. í´ëŸ½ ìƒì„¸ í˜ì´ì§€ ë¡œë“œ
   â†“
2. clubService.getClubDetail(clubId)
   - club ì •ë³´ + dashboard_config ë¡œë“œ
   â†“
3. dashboard_config?.widgets í™•ì¸
   - ìˆìœ¼ë©´: ì €ì¥ëœ ì„¤ì • ì‚¬ìš©
   - ì—†ìœ¼ë©´: DEFAULT_WIDGETS ì‚¬ìš©
   â†“
4. Dashboard íƒ­ ì„ íƒ
   â†“
5. getClubMemberLogs(clubId) í˜¸ì¶œ
   - í´ëŸ½ ë©¤ë²„ë“¤ì˜ ê³µìœ ëœ ìš´ë™ ë¡œê·¸ ê°€ì ¸ì˜¤ê¸°
   â†“
6. ê° ìœ„ì ¯ì´ memberLogs ë°ì´í„°ë¥¼ ì²˜ë¦¬
   - LiveTicker: generateTickerItems()
   - HallOfFame: calculateTitles()
   - DailySquad: getTodaySquad()
   - Leaderboards: ë©”íŠ¸ë¦­ë³„ ì§‘ê³„ ë° ì •ë ¬
   â†“
7. ìœ„ì ¯ ë Œë”ë§ (visible && order ìˆœì„œëŒ€ë¡œ)
```

---

## Zero-Copy View íŒ¨í„´

í´ëŸ½ ëŒ€ì‹œë³´ë“œëŠ” **Zero-Copy View** ì•„í‚¤í…ì²˜ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤:

- âŒ **ë°ì´í„° ë³µì‚¬ ì—†ìŒ**: `club_feeds` ê°™ì€ ì¤‘ê°„ í…Œì´ë¸”ì— ë°ì´í„° ë³µì‚¬ ì•ˆ í•¨
- âœ… **ì§ì ‘ ì°¸ì¡°**: `workout_logs` í…Œì´ë¸”ì„ ì§ì ‘ ì¡°íšŒ
- âœ… **RLS ë³´ì•ˆ**: Row Level Securityë¡œ ë©¤ë²„ë§Œ ê³µìœ ëœ ë¡œê·¸ ì¡°íšŒ ê°€ëŠ¥
- âœ… **ì‹¤ì‹œê°„ ë°˜ì˜**: ìš´ë™ ë¡œê·¸ ì €ì¥ ì¦‰ì‹œ ëŒ€ì‹œë³´ë“œì— ë°˜ì˜

### ì¥ì 
- ìŠ¤í† ë¦¬ì§€ ì ˆì•½
- ë°ì´í„° ì •í•©ì„± ë³´ì¥
- ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸

ìì„¸í•œ ë‚´ìš©: `docs/features/club_dashboard_data_structure.md`

---

## í–¥í›„ í™•ì¥ ê°€ëŠ¥ì„±

### 1. ìƒˆë¡œìš´ ìœ„ì ¯ íƒ€ì… ì¶”ê°€
- ì£¼ê°„ íŠ¸ë Œë“œ ì°¨íŠ¸
- ê°œì¸ ëª©í‘œ ë‹¬ì„±ë¥ 
- ìµœê·¼ PR (Personal Record) ê°¤ëŸ¬ë¦¬
- í´ëŸ½ í†µê³„ ìš”ì•½

### 2. ìœ„ì ¯ ì„¤ì • í™•ì¥
```typescript
config?: {
  metricType?: string;
  timeRange?: 'week' | 'month' | 'all';  // ê¸°ê°„ í•„í„°
  limit?: number;                         // í‘œì‹œ ê°œìˆ˜ ì œí•œ
  theme?: 'light' | 'dark' | 'custom';    // í…Œë§ˆ
}
```

### 3. ìœ„ì ¯ ì»¤ìŠ¤í„°ë§ˆì´ì§•
- ìƒ‰ìƒ í…Œë§ˆ ì„ íƒ
- íƒ€ì´í‹€ ë³€ê²½
- í‘œì‹œ ê°œìˆ˜ ì¡°ì •
- í•„í„° ì¡°ê±´ ì„¤ì •

### 4. ìœ„ì ¯ ë³µì œ ë° ì‚­ì œ
- ê°™ì€ íƒ€ì… ìœ„ì ¯ ì—¬ëŸ¬ ê°œ ìƒì„± (ì˜ˆ: ì—¬ëŸ¬ ë¦¬ë”ë³´ë“œ)
- ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ìœ„ì ¯ ì‚­ì œ

---

## ë””ë²„ê¹… ë° íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ìœ„ì ¯ì´ ì•ˆ ë³´ì¼ ë•Œ
1. `visible: true`ì¸ì§€ í™•ì¸
2. `memberLogs` ë°ì´í„°ê°€ ë¹„ì–´ìˆëŠ”ì§€ í™•ì¸
3. ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ì—ëŸ¬ í™•ì¸

### ì„¤ì •ì´ ì €ì¥ ì•ˆ ë  ë•Œ
1. DBì— `dashboard_config` ì»¬ëŸ¼ì´ ìˆëŠ”ì§€ í™•ì¸
   ```sql
   SELECT column_name FROM information_schema.columns
   WHERE table_name = 'clubs' AND column_name = 'dashboard_config';
   ```
2. ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰ í™•ì¸: `docs/database/club_dashboard_widgets_migration.sql`

### ë°ì´í„°ê°€ ì•ˆ ë‚˜ì˜¬ ë•Œ
1. RLS ì •ì±… í™•ì¸: í´ëŸ½ ë©¤ë²„ ê¶Œí•œ
2. `getClubMemberLogs()` í•¨ìˆ˜ ê²°ê³¼ í™•ì¸
3. `workout_logs` í…Œì´ë¸”ì— ë°ì´í„°ê°€ ìˆëŠ”ì§€ í™•ì¸

---

## ê´€ë ¨ ë¬¸ì„œ

- [í´ëŸ½ ì‹œìŠ¤í…œ ì „ì²´ êµ¬ì¡°](./club_dashboard_data_structure.md)
- [ì±Œë¦°ì§€ ì‹œìŠ¤í…œ](./challenge_system.md) (ì˜ˆì •)
- [ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ](../database/club_system_migration.sql)

---

**Last Updated**: 2026-01-21
**Version**: 1.0
**Author**: Claude Code
